#include <iostream>
using namespace std;

int move_count = 0;


void towerofhanoi(int disks, char start, char end, char middle = 'B') {
    if (disks == 1) {
        cout << "Move disk 1 from " << start << " to " << middle << endl;
        move_count++;
        cout << "Move disk 1 from " << middle << " to " << end << endl;
        move_count++;
        return;
    }


    towerofhanoi(disks - 1, start, end, middle);  // move n-1: start -> end via middle
    cout << "Move disk " << disks << " from " << start << " to " << middle << endl;
    move_count++;
    towerofhanoi(disks - 1, end, start, middle);  // move n-1: end -> start via middle
    cout << "Move disk " << disks << " from " << middle << " to " << end << endl;
    move_count++;
    towerofhanoi(disks - 1, start, end, middle);  // move n-1: start -> end via middle
}

int main() {
    int disks;
    cout << "Enter number of disks: ";
    cin >> disks;

    cout << "\nSteps to solve Restricted Tower of Hanoi:\n";
    towerofhanoi(disks, 'A', 'C', 'B');  // explicitly pass middle 'B'

    cout << "\nTotal moves: " << move_count << endl;
    return 0;
}
